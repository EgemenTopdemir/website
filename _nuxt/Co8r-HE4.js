const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DcAfQ3MP.js","./DJxPFQE5.js","./entry.BWHt-BjX.css"])))=>i.map(i=>d[i]);
import{h as $,E as B,G as L,m as U,H as W,I as F,J as G,s as N,K as Q,L as V,M as H,j as Y,N as j,O as z,P as J,Q as Z,u as A,R as X,S as K,U as k,D as ee}from"./DJxPFQE5.js";const te={trailing:!0};function ae(e,t=25,r={}){if(r={...te,...r},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let s,o,a=[],n,i;const h=(d,g)=>(n=ne(e,d,g),n.finally(()=>{if(n=null,r.trailing&&i&&!o){const b=h(d,i);return i=null,b}}),n),D=function(...d){return r.trailing&&(i=d),n||new Promise(g=>{const b=!o&&r.leading;clearTimeout(o),o=setTimeout(()=>{o=null;const l=r.leading?s:h(this,d);i=null;for(const f of a)f(l);a=[]},t),b?(s=h(this,d),g(s)):a.push(g)})},c=d=>{d&&(clearTimeout(d),o=null)};return D.isPending=()=>!!o,D.cancel=()=>{c(o),a=[],i=null},D.flush=()=>{if(c(o),!i||n)return;const d=i;return i=null,h(this,d)},D}async function ne(e,t,r){return await e.apply(t,r)}const re=Symbol.for("nuxt:client-only");function _e(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;se(e[0],e[1])&&e.unshift(t);let[r,s,o={}]=e,a=!1;const n=$(()=>V(r));if(typeof n.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof s!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const i=B();o.server??=!0,o.default??=ie,o.getCachedData??=x,o.lazy??=!1,o.immediate??=!0,o.deep??=L.deep,o.dedupe??="cancel",o._functionName,i._asyncData[n.value];function h(){const l={cause:"initial",dedupe:o.dedupe};return i._asyncData[n.value]?._init||(l.cachedData=o.getCachedData(n.value,i,{cause:"initial"}),i._asyncData[n.value]=R(i,n.value,s,o,l.cachedData)),()=>i._asyncData[n.value].execute(l)}const D=h(),c=i._asyncData[n.value];c._deps++;const d=o.server!==!1&&i.payload.serverRendered;{let l=function(u){const y=i._asyncData[u];y?._deps&&(y._deps--,y._deps===0&&y?._off())};const f=U();if(f&&d&&o.immediate&&!f.sp&&(f.sp=[]),f&&!f._nuxtOnBeforeMountCbs){f._nuxtOnBeforeMountCbs=[];const u=f._nuxtOnBeforeMountCbs;W(()=>{u.forEach(y=>{y()}),u.splice(0,u.length)}),F(()=>u.splice(0,u.length))}const _=f&&(f._nuxtClientOnly||G(re,!1));d&&i.isHydrating&&(c.error.value||c.data.value!==void 0)?c.status.value=c.error.value?"error":"success":f&&(!_&&i.payload.serverRendered&&i.isHydrating||o.lazy)&&o.immediate?f._nuxtOnBeforeMountCbs.push(D):o.immediate&&c.status.value!=="success"&&D();const m=H(),p=N(n,(u,y)=>{if((u||y)&&u!==y){a=!0;const T=i._asyncData[y]?.data.value!==void 0,q=i._asyncDataPromises[y]!==void 0,P={cause:"initial",dedupe:o.dedupe};if(!i._asyncData[u]?._init){let C;y&&T?C=i._asyncData[y].data.value:(C=o.getCachedData(u,i,{cause:"initial"}),P.cachedData=C),i._asyncData[u]=R(i,u,s,o,C)}i._asyncData[u]._deps++,y&&l(y),(o.immediate||T||q)&&i._asyncData[u].execute(P),X(()=>{a=!1})}},{flush:"sync"}),v=o.watch?N(o.watch,()=>{a||c._execute({cause:"watch",dedupe:o.dedupe})}):()=>{};m&&Q(()=>{p(),v(),l(n.value)})}const g={data:S(()=>i._asyncData[n.value]?.data),pending:S(()=>i._asyncData[n.value]?.pending),status:S(()=>i._asyncData[n.value]?.status),error:S(()=>i._asyncData[n.value]?.error),refresh:(...l)=>i._asyncData[n.value]?._init?i._asyncData[n.value].execute(...l):h()(),execute:(...l)=>g.refresh(...l),clear:()=>{const l=i._asyncData[n.value];if(l?._abortController)try{l._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{l._abortController=void 0}M(i,n.value)}},b=Promise.resolve(i._asyncDataPromises[n.value]).then(()=>g);return Object.assign(b,g),b}function S(e){return $({get(){return e()?.value},set(t){const r=e();r&&(r.value=t)}})}function se(e,t){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof t=="function")}function M(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=void 0),e._asyncData[t]&&(e._asyncData[t].data.value=A(e._asyncData[t]._default()),e._asyncData[t].error.value=void 0,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]=void 0)}function oe(e,t){const r={};for(const s of t)r[s]=e[s];return r}function R(e,t,r,s,o){e.payload._errors[t]??=void 0;const a=s.getCachedData!==x,n=r,i=s.deep?Y:j,h=o!==void 0,D=e.hook("app:data:refresh",async d=>{(!d||d.includes(t))&&await c.execute({cause:"refresh:hook"})}),c={data:i(h?o:s.default()),pending:$(()=>c.status.value==="pending"),error:z(e.payload._errors,t),status:j("idle"),execute:(...d)=>{const[g,b=void 0]=d,l=g&&b===void 0&&typeof g=="object"?g:{};if(e._asyncDataPromises[t]&&(l.dedupe??s.dedupe)==="defer")return e._asyncDataPromises[t];{const _="cachedData"in l?l.cachedData:s.getCachedData(t,e,{cause:l.cause??"refresh:manual"});if(_!==void 0)return e.payload.data[t]=c.data.value=_,c.error.value=void 0,c.status.value="success",Promise.resolve(_)}c._abortController&&c._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),c._abortController=new AbortController,c.status.value="pending";const f=new Promise((_,m)=>{try{const p=l.timeout??s.timeout,v=ce([c._abortController?.signal,l?.signal],p);if(v.aborted){const u=v.reason;m(u instanceof Error?u:new DOMException(String(u??"Aborted"),"AbortError"));return}return v.addEventListener("abort",()=>{const u=v.reason;m(u instanceof Error?u:new DOMException(String(u??"Aborted"),"AbortError"))},{once:!0}),Promise.resolve(n(e,{signal:v})).then(_,m)}catch(p){m(p)}}).then(async _=>{let m=_;s.transform&&(m=await s.transform(_)),s.pick&&(m=oe(m,s.pick)),e.payload.data[t]=m,c.data.value=m,c.error.value=void 0,c.status.value="success"}).catch(_=>{if(!(e._asyncDataPromises[t]&&e._asyncDataPromises[t]!==f)&&!c._abortController?.signal.aborted){if(typeof DOMException<"u"&&_ instanceof DOMException&&_.name==="AbortError"){c.status.value="idle";return}c.error.value=Z(_),c.data.value=A(s.default()),c.status.value="error"}}).finally(()=>{delete e._asyncDataPromises[t]});return e._asyncDataPromises[t]=f,e._asyncDataPromises[t]},_execute:ae((...d)=>c.execute(...d),0,{leading:!0}),_default:s.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{D(),e._asyncData[t]?._init&&(e._asyncData[t]._init=!1),a||J(()=>{e._asyncData[t]?._init||(M(e,t),c.execute=()=>Promise.resolve())})}};return c}const ie=()=>{},x=(e,t,r)=>{if(t.isHydrating)return t.payload.data[e];if(r.cause!=="refresh:manual"&&r.cause!=="refresh:hook")return t.static.data[e]};function ce(e,t){const r=e.filter(a=>!!a);if(typeof t=="number"&&t>=0){const a=AbortSignal.timeout?.(t);a&&r.push(a)}if(AbortSignal.any)return AbortSignal.any(r);const s=new AbortController;for(const a of r)if(a.aborted){const n=a.reason??new DOMException("Aborted","AbortError");try{s.abort(n)}catch{s.abort()}return s.signal}const o=()=>{const n=r.find(i=>i.aborted)?.reason??new DOMException("Aborted","AbortError");try{s.abort(n)}catch{s.abort()}};for(const a of r)a.addEventListener?.("abort",o,{once:!0});return s.signal}const I={projects:"v3.5.0--LvU2yxj3oGjMUDmIs4eGA9Gh_OpKOQ8tfAAx2JRg7PU",content:"v3.5.0--OqfqNOGyTlYweWdSR6OhVocY2xxi5g77EARCMnSunZE"},ue={projects:"_content_projects",content:"_content_content",info:"_content_info"},ge={projects:{type:"page",fields:{id:"string",title:"string",area:"string",body:"json",category:"string",coverImage:"string",description:"string",extension:"string",featured:"boolean",gallery:"json",location:"string",meta:"json",navigation:"json",path:"string",seo:"json",status:"string",stem:"string",year:"string"}},content:{type:"page",fields:{id:"string",title:"string",body:"json",description:"string",extension:"string",features:"json",meta:"json",navigation:"json",path:"string",seo:"json",shortTitle:"string",stats:"json",stem:"string"}},info:{type:"data",fields:{}}},w=(e,t)=>{const r=e._conditions;return r.length>0?`(${r.join(` ${t} `)})`:""},O=e=>{const t=[],r={_conditions:t,where(s,o,a){let n;switch(o.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(a)){const i=a.map(h=>E(h)).join(", ");n=`"${String(s)}" ${o.toUpperCase()} (${i})`}else throw new TypeError(`Value for ${o} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(a)&&a.length===2)n=`"${String(s)}" ${o.toUpperCase()} ${E(a[0])} AND ${E(a[1])}`;else throw new Error(`Value for ${o} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":n=`"${String(s)}" ${o.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":n=`"${String(s)}" ${o.toUpperCase()} ${E(a)}`;break;default:n=`"${String(s)}" ${o} ${E(typeof a=="boolean"?Number(a):a)}`}return t.push(`${n}`),r},andWhere(s){const o=s(O());return t.push(w(o,"AND")),r},orWhere(s){const o=s(O());return t.push(w(o,"OR")),r}};return r},le=(e,t)=>{const r={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},s={__params:r,andWhere(a){const n=a(O());return r.conditions.push(w(n,"AND")),s},orWhere(a){const n=a(O());return r.conditions.push(w(n,"OR")),s},path(a){return s.where("path","=",K(a))},skip(a){return r.offset=a,s},where(a,n,i){return s.andWhere(h=>h.where(String(a),n,i)),s},limit(a){return r.limit=a,s},select(...a){return a.length&&r.selectedFields.push(...a),s},order(a,n){return r.orderBy.push(`"${String(a)}" ${n}`),s},async all(){return t(e,o()).then(a=>a||[])},async first(){return t(e,o({limit:1})).then(a=>a[0]||null)},async count(a="*",n=!1){return t(e,o({count:{field:String(a),distinct:n}})).then(i=>i[0].count)}};function o(a={}){let n="SELECT ";if(a?.count)n+=`COUNT(${a.count.distinct?"DISTINCT ":""}${a.count.field}) as count`;else{const h=Array.from(new Set(r.selectedFields));n+=h.length>0?h.map(D=>`"${String(D)}"`).join(", "):"*"}n+=` FROM ${ue[String(e)]}`,r.conditions.length>0&&(n+=` WHERE ${r.conditions.join(" AND ")}`),r.orderBy.length>0?n+=` ORDER BY ${r.orderBy.join(", ")}`:n+=" ORDER BY stem ASC";const i=a?.limit||r.limit;return i>0&&(r.offset>0?n+=` LIMIT ${i} OFFSET ${r.offset}`:n+=` LIMIT ${i}`),n}return s};function E(e){return`'${String(e).replace(/'/g,"''")}'`}async function me(e,t){return await $fetch(`/__nuxt_content/${t}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:I[String(t)],t:void 0}})}async function de(e,t,r){return await $fetch(`/__nuxt_content/${t}/query`,{context:e?{cloudflare:e.context.cloudflare}:{},headers:{"content-type":"application/json",...e?.node?.req?.headers?.cookie?{cookie:e.node.req.headers.cookie}:{}},query:{v:I[String(t)],t:void 0},method:"POST",body:{sql:r}})}const De=e=>{const t=k()?.ssrContext?.event;return le(e,(r,s)=>fe(t,r,s))};async function fe(e,t,r){return window.WebAssembly?he(t,r):de(e,String(t),r)}async function he(e,t){return await ee(()=>import("./DcAfQ3MP.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(s=>s.loadDatabaseAdapter(e)).then(s=>s.all(t))}export{I as a,ge as c,me as f,De as q,ue as t,_e as u};
